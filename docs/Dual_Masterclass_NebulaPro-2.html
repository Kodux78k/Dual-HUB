<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>DUAL ‚Ä¢ Nebula Pro ‚Äî Masterclass (Online)</title>
<meta name="theme-color" content="#0b0b14" />
<style>
  :root{
    --bg:#0a0b13; --bg2:#0b0d1a; --fg:#e9ecff; --muted:#9aa4c7;
    --c-cyan:#29d3ff; --c-mag:#ff5bd4; --c-violet:#8a5cff; --ok:#5bffcf;
    --ring:rgba(167,124,255,.35); --tabsH:72px; --r:18px;
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{
    margin:0; color:var(--fg);
    background: radial-gradient(1200px 900px at 50% -160px,#2a1e60 0%,#1c1540 45%,#0b0d1a 80%,#070812 100%), #05060c;
    font:14px/1.45 Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  }
  .app{min-height:100dvh;display:flex;flex-direction:column}
  header.top{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-bottom:1px solid #ffffff14;backdrop-filter:saturate(130%) blur(6px)}
  .title{font-weight:900;letter-spacing:.16em;display:flex;gap:.5ch;align-items:center}
  .dot{width:7px;height:7px;border-radius:50%;background:var(--c-cyan);box-shadow:0 0 18px var(--c-cyan)}
  .hdr-actions{display:flex;gap:8px}
  .icon-btn{width:36px;height:36px;border:1px solid #ffffff18;border-radius:12px;background:#0e1326;display:grid;place-items:center;cursor:pointer}
  main{flex:1;position:relative}
  section.view{position:absolute;inset:0;display:none;padding:12px;padding-bottom:calc(var(--tabsH) + 16px);overflow:auto}
  section.view.active{display:block}
  nav.tabs{position:fixed;left:0;right:0;bottom:0;height:var(--tabsH);display:flex;gap:10px;justify-content:space-around;align-items:center;background:linear-gradient(180deg,#0b0e1a,#070a14);border-top:1px solid #ffffff14;z-index:98;backdrop-filter:blur(8px)}
  .tab-btn{width:46px;height:46px;border-radius:14px;border:1px solid #ffffff18;background:#10142a;display:grid;place-items:center;cursor:pointer}
  .tab-btn.active{outline:1px solid var(--ring)}
  .grid{display:grid;gap:12px}
  @media(min-width:760px){.grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))} .grid.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}
  .card{background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));border:1px solid #ffffff14;border-radius:16px;padding:12px;box-shadow:0 12px 36px rgba(0,0,0,.35)}
  .btn{border:1px solid #ffffff18;border-radius:10px;background:#0f1428;color:var(--fg);padding:.55rem .85rem;font-weight:800;cursor:pointer}
  .btn.prime{background:linear-gradient(90deg,var(--c-violet),var(--c-cyan));color:#0c0c14;border-color:transparent}
  .btn.ghost{background:transparent}
  .btn.pill{border-radius:999px}
  input, textarea, select{background:#0f1426;color:var(--fg);border:1px solid #ffffff18;border-radius:10px;padding:10px}
  .muted{color:var(--muted)}
  .ascii{font:12px/1.1 ui-monospace,SFMono-Regular,Menlo,Consolas;white-space:pre;opacity:.8}
  .loader{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.38);backdrop-filter:blur(8px) saturate(130%);z-index:999}
  .loader .dot{width:16px;height:16px;border-radius:50%;background:var(--c-cyan);box-shadow:0 0 24px var(--c-cyan);animation:neb 0.9s infinite alternate}
  @keyframes neb{to{transform:scale(1.35);opacity:.75}}
  .viewer{position:fixed;inset:0;background:#000;z-index:70}
  .viewer.keep-tabs{position:absolute;inset:8px 8px calc(var(--tabsH) + 10px) 8px;background:rgba(0,0,0,.85);border:1px solid #ffffff18;border-radius:18px}
  .viewer iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
  .v-footer{position:absolute;right:12px;bottom:12px;display:flex;gap:8px}
  .chip{display:inline-flex;gap:6px;align-items:center;font-weight:800;border:1px solid #ffffff18;border-radius:999px;padding:.36rem .7rem;background:#0f1428}
  .arch-dot{width:8px;height:8px;border-radius:50%}
  .a-Serena{background:#7afcff}.a-Atlas{background:#29d3ff}.a-Nova{background:#ffd86a}.a-Elysha{background:#a77cff}
  .a-Pulse{background:#ff7af2}.a-Genus{background:#8a5cff}.a-Lumine{background:#00ffd0}
  .kpi{display:grid;grid-template-columns:1fr auto;gap:8px;border:1px dashed #ffffff22;border-radius:12px;padding:10px}
</style>
</head>
<body>
<div class="app">
  <header class="top">
    <div class="title">DUAL <span class="dot" id="dot"></span> HUB ‚Äî MASTERCLASS</div>
    <div class="hdr-actions">
      <button class="icon-btn" id="btnTheme" title="Trocar tema">‚óê</button>
      <button class="icon-btn" id="btnMenu" title="Menu">‚ãØ</button>
    </div>
  </header>

  <main>
    <section id="view-home" class="view active">
      <div class="grid cols-2">
        <div class="card">
          <div class="muted" style="font-size:12px">Selo Simbi√≥tico Trinity V2.0</div>
          <pre class="ascii" id="ascii-seal">
‚ïî‚ïê‚ïê‚ïêüåå‚ïê‚ïê‚ïê‚ïó
 ‚ú™ (¬∞„É≠¬∞)‚òù
 ‚ò• ‚ò•
 üß≠ TRINITY: FILHO
 üïì 11/09/2025, 07:13:31
 üîä Hz: 108
 üß¨ ID: GI58GV
‚ïö‚ïê‚ïê‚ïêüåå‚ïê‚ïê‚ïê‚ïù
<!--SEL‚ò•ID:GI58GV|HZ:108|TRI:FILHO|HASH:R0k1OEdWLTEw-->
          </pre>
          <div class="muted" style="margin-top:8px">‚ÄúRespira no centro.‚Äù (one-liner)</div>
        </div>
        <div class="card">
          <b>Rituais</b>
          <div style="display:flex;flex-wrap:wrap;gap:8px;margin-top:8px">
            <button class="btn pill prime" data-ritual="respirar">Respirar (Serena)</button>
            <button class="btn pill" data-ritual="foco369">Foco 3-6-9 (Pulse)</button>
            <button class="btn pill" data-ritual="insight">Insight (Lumine)</button>
          </div>
          <div id="ritual-out" class="ascii" style="margin-top:10px"></div>
        </div>
        <div class="card">
          <b>Arqu√©tipos</b>
          <div style="display:flex;flex-wrap:wrap;gap:8px;margin:8px 0">
            <span class="chip" data-arch="Serena"><span class="arch-dot a-Serena"></span>Serena</span>
            <span class="chip" data-arch="Atlas"><span class="arch-dot a-Atlas"></span>Atlas</span>
            <span class="chip" data-arch="Nova"><span class="arch-dot a-Nova"></span>Nova</span>
            <span class="chip" data-arch="Elysha"><span class="arch-dot a-Elysha"></span>Elysha</span>
            <span class="chip" data-arch="Pulse"><span class="arch-dot a-Pulse"></span>Pulse</span>
            <span class="chip" data-arch="Genus"><span class="arch-dot a-Genus"></span>Genus</span>
            <span class="chip" data-arch="Lumine"><span class="arch-dot a-Lumine"></span>Lumine</span>
          </div>
          <div class="muted">Ative um arqu√©tipo para modular voz, ritmo e one-liners.</div>
        </div>
        <div class="card">
          <b>Arte ASCII animada ‚Äî 3‚Ä¢6‚Ä¢9</b>
          <pre class="ascii" id="ascii-369">    ‚Ä¢
   ‚Ä¢   ‚Ä¢
  ‚Ä¢  ‚Ä¢  ‚Ä¢
   ‚Ä¢   ‚Ä¢
    ‚Ä¢</pre>
          <div class="muted">Anima√ß√£o minimalista 3-6-9 (respira√ß√£o ‚Üí foco ‚Üí expans√£o).</div>
        </div>
        <div class="card">
          <b>KPIs simb√≥licos (locais)</b>
          <div class="kpi"><span>Tempo at√© 1¬™ a√ß√£o</span><span id="kpi-first">‚Äî</span></div>
          <div class="kpi"><span>Rituais executados</span><span id="kpi-rit">0</span></div>
          <div class="kpi"><span>Arqu√©tipo atual</span><span id="kpi-arch">‚Äî</span></div>
          <div class="kpi"><span>Apps reabertos (badge)</span><span id="kpi-badge">0</span></div>
        </div>
        <div class="card">
          <b>Viewer de demonstra√ß√£o</b>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button class="btn" id="demoOpen">Abrir Demo</button>
            <button class="btn ghost" id="demoLocal">Injetar HTML local</button>
          </div>
          <div class="muted" style="margin-top:6px">Use Minimizar/Fechar. A nav permanece vis√≠vel.</div>
        </div>
      </div>
    </section>

    <section id="view-chat" class="view">
      <div class="grid">
        <div class="card">
          <b>DUAL ‚Ä¢ CHAT</b>
          <div id="chat-list" style="min-height:48dvh;margin-top:8px"></div>
          <div style="display:flex;gap:8px;margin-top:8px;position:sticky;bottom:0;background:linear-gradient(180deg,rgba(18,20,42,.92),rgba(18,20,42,.65));border:1px solid #ffffff18;padding:8px;border-radius:12px">
            <input id="chat-input" placeholder="Digite uma mensagem‚Ä¶" style="flex:1" />
            <button class="btn" id="chat-send">Enviar</button>
          </div>
          <div class="muted" style="margin-top:6px">Dica: ative um arqu√©tipo e veja o tom da resposta mudar. Se tiver SK salva em Brain, o chat usar√° o OpenRouter.</div>
        </div>
      </div>
    </section>

    <section id="view-brain" class="view">
      <div class="grid cols-2">
        <div class="card">
          <div class="muted">Nome</div>
          <div style="display:flex;gap:8px;margin-top:6px">
            <input id="profile-name" placeholder="Seu nome" style="flex:1" />
            <button class="btn" id="save-name">Salvar</button>
          </div>
        </div>
        <div class="card">
          <div class="muted">OpenRouter SK (opcional)</div>
          <div style="display:flex;gap:8px;margin-top:6px">
            <input id="profile-sk" placeholder="sk-or-v1-..." style="flex:1" />
            <button class="btn" id="save-sk">Salvar</button>
          </div>
          <textarea id="profile-tr" rows="4" placeholder="Cole seu treinamento..." style="width:100%;margin-top:8px"></textarea>
          <div style="text-align:right;margin-top:6px">
            <button class="btn" id="save-tr">Salvar Treinamento</button>
          </div>
        </div>
      </div>
    </section>

    <section id="view-apps" class="view">
      <div class="card">
        <b>Apps (demo)</b>
        <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn" data-open="https://example.org">Abrir example.org</button>
          <button class="btn" data-open="https://developer.mozilla.org">Abrir MDN</button>
        </div>
        <div class="muted" style="margin-top:6px">Coloque seu <code>apps.json</code> no projeto quando quiser.</div>
      </div>
    </section>

    <section id="view-profile" class="view">
      <div class="grid">
        <div class="card">
          <b>Guia r√°pido da Masterclass</b>
          <ul style="margin:8px 0 0 16px">
            <li>One-liner por tela (inten√ß√£o).</li>
            <li>Ritual (1 a√ß√£o) + Feedback (loader/badge/ascii).</li>
            <li>Arqu√©tipo modula tom, cor e timing.</li>
            <li>KPI local para medir clareza e a√ß√£o.</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <nav class="tabs">
    <button class="tab-btn active" data-nav="home" title="In√≠cio">‚åÇ</button>
    <button class="tab-btn" data-nav="chat"  title="Chat">üí¨</button>
    <button class="tab-btn" data-nav="brain" title="Brain">üß†</button>
    <button class="tab-btn" data-nav="apps"  title="Apps">‚ñ¶</button>
    <button class="tab-btn" data-nav="profile" title="Perfil">üë§</button>
  </nav>
</div>

<div class="loader" id="loader"><div class="dot"></div></div>

<script>
const $=(s,root=document)=>root.querySelector(s);
const $$=(s,root=document)=>Array.from(root.querySelectorAll(s));
const LS = {
  get(k,d=null){ try{const v=localStorage.getItem(k); return v===null?d:v;}catch{return d} },
  set(k,v){ try{localStorage.setItem(k,v)}catch{} }
};
function showLoader(){ $('#loader').style.display='grid' }
function hideLoader(){ $('#loader').style.display='none' }

/* Router */
const views={home:$('#view-home'),chat:$('#view-chat'),brain:$('#view-brain'),apps:$('#view-apps'),profile:$('#view-profile')};
function navTo(k){ for(const v in views){views[v].classList.remove('active')} (views[k]||views.home).classList.add('active'); $$('.tab-btn').forEach(b=>b.classList.toggle('active', b.dataset.nav===k)); history.replaceState({},'', '#/'+k)}
const initHash=location.hash.replace('#/',''); if(views[initHash]) navTo(initHash); $$('.tab-btn').forEach(b=>b.addEventListener('click',()=>navTo(b.dataset.nav)));

/* ASCII 369 */
(function(){ const frames=[
`    ‚Ä¢
   ‚Ä¢   ‚Ä¢
  ‚Ä¢  ‚Ä¢  ‚Ä¢
   ‚Ä¢   ‚Ä¢
    ‚Ä¢`,
`      ‚Ä¢
   ‚Ä¢   ‚Ä¢
  ‚Ä¢  ‚Ä¢  ‚Ä¢
   ‚Ä¢   ‚Ä¢
      ‚Ä¢`,
`    ‚Ä¢
  ‚Ä¢  ‚Ä¢  ‚Ä¢
 ‚Ä¢   ‚Ä¢   ‚Ä¢
  ‚Ä¢  ‚Ä¢  ‚Ä¢
    ‚Ä¢`];
 const el = $('#ascii-369'); let i=0; setInterval(()=>{ el.textContent=frames[i=(i+1)%frames.length]; }, 600); })();

/* Arqu√©tipos */
const ACTIVE = { arch: LS.get('dual.arch','Serena') || 'Serena', rit: 0, first:null, badge: Number(LS.get('dual.kpi.badge','0')||'0') };
const DOT = $('#dot'); const KPI_ARCH=$('#kpi-arch'); const KPI_RIT=$('#kpi-rit'); const KPI_BADGE=$('#kpi-badge'); const KPI_FIRST=$('#kpi-first');
function setArch(a){
  ACTIVE.arch=a; LS.set('dual.arch',a); KPI_ARCH.textContent=a;
  const map = {Serena:'#7afcff',Atlas:'#29d3ff',Nova:'#ffd86a',Elysha:'#a77cff',Pulse:'#ff7af2',Genus:'#8a5cff',Lumine:'#00ffd0'};
  DOT.style.background = map[a]||'#29d3ff'; DOT.style.boxShadow='0 0 18px '+(map[a]||'#29d3ff');
}
setArch(ACTIVE.arch);
$$('[data-arch]').forEach(chip=> chip.addEventListener('click', ()=> setArch(chip.dataset.arch)));

/* Rituais */
const out = $('#ritual-out');
function ritualRespirar(){ out.textContent = 'Serena: Inspire 4s ‚Ä¢ segure 4s ‚Ä¢ expire 4s. Observa o centro (‚≠ï).'; ACTIVE.rit++; KPI_RIT.textContent=ACTIVE.rit; }
function ritual369(){ out.textContent = 'Pulse 3-6-9: 3 micro-passos ‚Üí 6 minutos ‚Üí 9 respira√ß√µes. Define 1 a√ß√£o agora.'; ACTIVE.rit++; KPI_RIT.textContent=ACTIVE.rit; }
function ritualInsight(){ out.textContent = 'Lumine: Descreva em 1 frase a imagem mental + 1 pr√≥ximo passo.'; ACTIVE.rit++; KPI_RIT.textContent=ACTIVE.rit; }
$$('[data-ritual]').forEach(b=>{
  b.addEventListener('click', ()=>{
    if(!ACTIVE.first){ ACTIVE.first=Date.now(); KPI_FIRST.textContent = '‚âà '+Math.round((ACTIVE.first - performance.timing.navigationStart)/1000)+' s' }
    const a = b.dataset.ritual; if(a==='respirar') ritualRespirar(); if(a==='foco369') ritual369(); if(a==='insight') ritualInsight();
  });
});

/* Viewer demo */
function openViewer(url){
  const host = $('#view-apps .card'); const mountInApps=!!host;
  const v=document.createElement('div'); v.className='viewer'+(mountInApps?' keep-tabs':''); v.innerHTML=`
    <iframe src="${url}" allow="autoplay; clipboard-read; clipboard-write; fullscreen"></iframe>
    <div class="v-footer">
      <button class="btn" id="v-close">‚¨Ö Hub</button>
      <button class="btn" id="v-min">‚Äî Minimizar</button>
    </div>`;
  (mountInApps?host:document.body).appendChild(v);
  const f=v.querySelector('iframe');
  const badge=document.createElement('button'); badge.textContent='‚óê Reabrir App'; badge.className='btn'; Object.assign(badge.style,{position:'fixed',right:'12px',bottom:'calc(var(--tabsH) + 12px)',zIndex:'96',display:'none'}); document.body.appendChild(badge);
  $('#v-close',v)?.addEventListener('click',()=>{ v.remove(); badge.remove(); });
  $('#v-min',v)?.addEventListener('click',()=>{ f.style.display='none'; badge.style.display='inline-flex'; ACTIVE.badge++; KPI_BADGE.textContent=ACTIVE.badge; LS.set('dual.kpi.badge', ACTIVE.badge) });
  badge.addEventListener('click',()=>{ f.style.display=''; badge.style.display='none'; });
}
$('#demoOpen').addEventListener('click',()=> openViewer('https://example.org'));
$('#demoLocal').addEventListener('click',()=>{
  const html = `<!doctype html><meta charset="utf-8"><title>Local Demo</title><style>html,body{height:100%;margin:0;display:grid;place-items:center;background:#0a0b13;color:#e9ecff;font:16px/1.4 system-ui} .x{padding:10px 14px;border:1px solid #ffffff28;border-radius:10px;background:#12152a}</style><div class="x">Demo Local ‚Ä¢ Clique em Minimizar e reabra pelo badge.</div>`;
  const url = URL.createObjectURL(new Blob([html],{type:'text/html'}));
  openViewer(url);
});
$$('#view-apps [data-open]').forEach(b=> b.addEventListener('click', ()=> openViewer(b.dataset.open)));

/* Chat (online) */
const CL = $('#chat-list'), CI = $('#chat-input'), CS = $('#chat-send');
function bubble(text,who='ai'){
  const row=document.createElement('div'); row.style.display='flex'; row.style.gap='8px'; row.style.margin='8px';
  const av=document.createElement('div'); av.className='avatar'; av.textContent= who==='ai'?'üîÆ':'‚ö°'; av.style.cssText='width:34px;height:34px;border-radius:10px;background:#12162a;border:1px solid #ffffff18;display:grid;place-items:center';
  const b=document.createElement('div'); b.className='bubble'; b.style.cssText='max-width:100%;padding:12px 14px;border-radius:12px;border:1px solid #ffffff18;box-shadow:0 12px 24px rgba(0,0,0,.28);background:'+ (who==='ai'?'linear-gradient(180deg,rgba(90,60,180,.32),rgba(60,40,120,.32))':'linear-gradient(180deg,rgba(41,211,255,.28),rgba(154,124,255,.28))');
  b.textContent=text;
  const pre=document.createElement('pre'); pre.className='ascii'; pre.textContent='‚ñÅ ‚ñÇ ‚ñÉ ‚ñÑ ‚ñÖ ‚ñÜ ‚ñá ‚ñà ‚ñá ‚ñÜ ‚ñÖ ‚ñÑ ‚ñÉ ‚ñÇ ‚ñÅ'; b.appendChild(pre);
  row.appendChild( who==='ai'? av:b ); row.appendChild( who==='ai'? b:av ); CL.appendChild(row);
  CL.scrollTop = CL.scrollHeight;
}
function archReply(txt){
  const a = ACTIVE.arch;
  if(a==='Serena') return 'Serena: respira ‚Äî '+txt+' ‚Üí qual o menor passo sem esfor√ßo?';
  if(a==='Atlas')  return 'Atlas: foco no objetivo. '+txt+' ‚Üí 1 tarefa em 10 minutos.';
  if(a==='Nova')   return 'Nova: come√ßo fresco! '+txt+' ‚Üí qual ideia quer testar agora?';
  if(a==='Elysha') return 'Elysha: observa e sintetiza. '+txt+' ‚Üí o que permanece verdadeiro?';
  if(a==='Pulse')  return 'Pulse: 3-6-9: '+txt+' ‚Üí 3 bullets, 6 min, 9 respira√ß√µes.';
  if(a==='Genus')  return 'Genus: estrutura. '+txt+' ‚Üí passos: (1) (2) (3).';
  if(a==='Lumine') return 'Lumine: imagina a cena. '+txt+' ‚Üí descreve e age.';
  return 'Dual: '+txt;
}
function getSK(){
  try{
    const brain=JSON.parse(localStorage.getItem('infodose:brain')||'{}');
    return localStorage.getItem('infodose:userSK') || brain.userSK || '';
  }catch{return localStorage.getItem('infodose:userSK')||''}
}
function getModel(){ return localStorage.getItem('infodose:model') || 'openrouter/auto'; }
async function sendToOpenRouter(prompt, ctx=[]){
  const SK=getSK(); if(!SK) throw new Error('SK ausente. Salve em Brain.');
  const model=getModel();
  const r=await fetch('https://openrouter.ai/api/v1/chat/completions',{
    method:'POST',
    headers:{
      'Content-Type':'application/json',
      'Authorization':'Bearer '+SK,
      'HTTP-Referer': location.origin,
      'X-Title':'Dual Hub Nebula'
    },
    body: JSON.stringify({ model, messages:[...ctx,{role:'user',content:prompt}], temperature:0.7 })
  });
  if(!r.ok) throw new Error('HTTP '+r.status);
  const data=await r.json();
  return data?.choices?.[0]?.message?.content || '(sem conte√∫do)';
}
async function send(){ const t=(CI.value||'').trim(); if(!t) return; bubble(t,'me'); CI.value=''; 
  try{
    const SK=getSK();
    if(SK){
      showLoader();
      const raw=localStorage.getItem('dual.chat.history'); const ctx=[];
      if(raw){ try{ JSON.parse(raw).slice(-6).forEach(m=>ctx.push({role:(m.who==='me'?'user':'assistant'),content:m.text})) }catch{} }
      const out=await sendToOpenRouter(t, ctx);
      bubble(out,'ai');
    } else {
      bubble(archReply(t),'ai');
    }
  }catch(e){ bubble('Falha ao consultar a IA: '+(e?.message||e),'ai'); }
  finally{ hideLoader(); saveHist(); }
}
function saveHist(){ try{
  const msgs=[...CL.querySelectorAll('div')].map(r=>({who:r.querySelector('.bubble').parentNode.querySelector('.avatar').textContent==='‚ö°'?'me':'ai',text:r.querySelector('.bubble').childNodes[0].textContent}));
  localStorage.setItem('dual.chat.history', JSON.stringify(msgs));
}catch{} }
CS.addEventListener('click',send); CI.addEventListener('keydown',e=>{ if(e.key==='Enter'){ e.preventDefault(); send(); }});

/* Brain persistence (mock) */
$('#save-name').addEventListener('click',()=>{ showLoader(); setTimeout(()=>{ LS.set('infodose:userName', $('#profile-name').value.trim()); hideLoader(); }, 360) });
$('#save-sk').addEventListener('click',()=>{ showLoader(); setTimeout(()=>{ LS.set('infodose:userSK', $('#profile-sk').value.trim()); hideLoader(); }, 360) });
$('#save-tr').addEventListener('click',()=>{ showLoader(); setTimeout(()=>{ LS.set('infodose:training', $('#profile-tr').value); hideLoader(); }, 360) });

/* Theme toggle (decorativo) */
$('#btnTheme').addEventListener('click',()=>{
  document.body.animate([{filter:'saturate(160%) brightness(1.1)'},{filter:'none'}],{duration:500, easing:'ease-out'});
});

/* First action KPI */
(function(){ const started=performance.timing?performance.timing.navigationStart:performance.timeOrigin||Date.now(); const btns=[...$$('button'), ...$$('input'), ...$$('a')]; const stamp=()=>{ if(!ACTIVE.first){ ACTIVE.first=Date.now(); KPI_FIRST.textContent = '‚âà '+Math.round((ACTIVE.first - started)/1000)+' s' } btns.forEach(b=>b.removeEventListener('click',stamp)) }; btns.forEach(b=>b.addEventListener('click',stamp)); })();
KPI_BADGE.textContent = ACTIVE.badge;
KPI_RIT.textContent = ACTIVE.rit;
KPI_ARCH.textContent = ACTIVE.arch;

/* Menu */
$('#btnMenu').addEventListener('click',()=>{
  alert('Menu Nebula Pro: \\n‚Ä¢ GPTabs Hub \\n‚Ä¢ Symbios Injection (copiar snippet) \\n‚Ä¢ Alternar tema \\n‚Ä¢ M√©tricas');
});
</script>
</body>
</html>