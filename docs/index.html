<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Smigdricks Dual Infodose ‚Äî PWA</title>
<!-- Meta para PWA e tema -->
<link rel="manifest" href="manifest.json" />
<meta name="theme-color" content="#1e2235" />
<style>
  /*
    Smigdricks Dual Infodose
    -----------------------
    Esta p√°gina √© uma varia√ß√£o do Dual Hub otimizada para mobile.
    Ela traz um rodap√© com dock de entrada refinado, um painel
    para Arte¬†ASCII, integra√ß√£o com presets de Arte¬†ASCII e um
    carregador de apps que consome apps.json. A prioridade √©
    mobile-first e safe‚Äëarea para iOS, com degrade suave no fundo.
  */

  :root {
    /* Gradiente de fundo inspirado em nebulosas */
    --grad-a: #ff52e5;
    --grad-b: #00c5e5;
    /* Cores base */
    --text: #f5f7ff;
    --muted: rgba(245, 247, 255, .65);
    --surface: rgba(15, 17, 32, .45);
    --surface-strong: rgba(15, 17, 32, .85);
    --border: rgba(255, 255, 255, .12);
    /* Raio e sombra para elementos flutuantes */
    --radius: 24px;
    --radius-lg: 28px;
    --shadow: 0 10px 30px rgba(0, 0, 0, .35);
    /* Alturas padr√£o de header e safe-area */
    --header-h: 78px;
  }
  @supports not (padding: env(safe-area-inset-bottom)) {
    :root { --safe: 0px; }
  }
  @supports (padding: env(safe-area-inset-bottom)) {
    :root { --safe: env(safe-area-inset-bottom); }
  }

  * {
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
  }
  html, body {
    height: 100%;
    margin: 0;
  }
  body {
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    background: linear-gradient(42deg, var(--grad-a), var(--grad-b)) fixed;
    color: var(--text);
    overflow-x: hidden;
    overscroll-behavior-y: contain;
    min-height: 100dvh;
  }

  /* ---------- Header ---------- */
  header {
    position: fixed;
    inset: 0 0 auto 0;
    height: var(--header-h);
    padding: 0 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    backdrop-filter: blur(16px) saturate(120%);
    z-index: 100;
  }
  .icon-btn {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    display: grid;
    place-items: center;
    background: var(--surface);
    border: 1px solid var(--border);
    box-shadow: var(--shadow);
    color: var(--text);
  }
  .icon-btn:active { transform: scale(.96); }
  .title {
    flex: 1;
    text-align: center;
    line-height: 1.1;
  }
  .title h1 {
    margin: 0;
    font-size: 22px;
    font-weight: 900;
    letter-spacing: .05em;
  }
  .title small {
    display: block;
    font-size: 12px;
    letter-spacing: .08em;
    color: var(--muted);
  }

  /* ---------- Main ---------- */
  main {
    padding-top: calc(var(--header-h) + 12px);
    /* Espa√ßo reservado para tabbar + dock + safe‚Äëarea */
    padding-bottom: calc(118px + var(--safe));
    width: 100%;
    max-width: 520px;
    margin: 0 auto;
    position: relative;
  }
  section { display: none; }
  section.active { display: block; }

  /* ---------- Grid de Apps ---------- */
  .apps-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
    gap: 14px;
    padding: 0 16px;
  }
  .app-icon {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    height: 84px;
    cursor: pointer;
  }
  .app-icon span {
    margin-top: 6px;
    font-size: 12px;
    font-weight: 600;
    color: var(--muted);
    text-align: center;
  }
  .app-icon img {
    width: 28px;
    height: 28px;
    border-radius: 8px;
    object-fit: contain;
  }

  /* ---------- Tabbar & Dock ---------- */
  footer.tabbar {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 120;
    padding: 6px 14px calc(6px + var(--safe));
  }
  .tabbar .container {
    width: 100%;
    max-width: 520px;
    margin: 0 auto;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow);
    display: grid;
    gap: 10px;
    padding: 10px 12px calc(10px + var(--safe));
  }
  /* Linha de tabs */
  .tabs {
    display: flex;
    align-items: center;
    justify-content: space-around;
    gap: 6px;
  }
  .tab {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    padding: 8px 0;
    border-radius: 16px;
    color: var(--muted);
    font-size: 11px;
    font-weight: 700;
  }
  .tab.active {
    color: var(--text);
    background: rgba(255, 255, 255, .10);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, .12);
  }
  .tab svg { width: 22px; height: 22px; }

  /* Dock refinado */
  .dock {
    display: grid;
    grid-template-columns: 1fr auto auto auto auto auto;
    gap: 8px;
    align-items: center;
    background: rgba(255, 255, 255, .06);
    border: 1px solid rgba(255, 255, 255, .14);
    border-radius: 16px;
    padding: 8px;
  }
  .dock.hidden-icons .dock-btn { display: none; }
  .dock.hidden-icons .dock-input { grid-column: 1 / -1; }
  .dock-input {
    display: flex;
    align-items: center;
    gap: 8px;
    background: rgba(0, 0, 0, .22);
    border: 1px solid rgba(255, 255, 255, .14);
    border-radius: 12px;
    padding: 6px 10px;
  }
  .dock-input input {
    appearance: none;
    border: 0;
    outline: 0;
    background: transparent;
    color: var(--text);
    width: 100%;
    font-size: 14px;
  }
  .dock-btn {
    width: 40px;
    height: 40px;
    border-radius: 12px;
    display: grid;
    place-items: center;
    background: rgba(255, 255, 255, .08);
    border: 1px solid rgba(255, 255, 255, .14);
  }
  .dock-btn:active { transform: scale(.96); }
  .dock-btn img,
  .dock-btn svg {
    width: 22px;
    height: 22px;
    display: block;
  }

  /* Bot√£o frase (toggle) */
  .mantra {
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 14px;
    padding: 10px 12px;
    background: linear-gradient(90deg, rgba(255, 255, 255, .10), rgba(255, 255, 255, .06));
    border: 1px solid rgba(255, 255, 255, .14);
    font-weight: 600;
    cursor: pointer;
    text-align: center;
  }
  .mantra strong { font-weight: 800; }

  /* Painel de a√ß√µes & ASCII */
  .actions {
    display: none;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 8px;
  }
  .actions.open { display: grid; }
  .pill {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 10px 12px;
    border-radius: 12px;
    background: rgba(255, 255, 255, .08);
    border: 1px solid rgba(255, 255, 255, .14);
    font-size: 13px;
    font-weight: 700;
  }

  .ascii-panel {
    display: none;
    grid-template-columns: 1fr;
    gap: 8px;
    background: rgba(0, 0, 0, .18);
    border: 1px solid rgba(255, 255, 255, .14);
    border-radius: 14px;
    padding: 10px;
  }
  .ascii-panel.open { display: grid; }
  .ascii-row { display: flex; gap: 8px; }
  .ascii-row .pill { flex: 1; }
  .ascii-box {
    width: 100%;
    min-height: 120px;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, .18);
    background: rgba(0, 0, 0, .25);
    color: #fff;
    padding: 10px;
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
    font-size: 12.5px;
  }

  /* Esconde chat-cards globais quando toggled */
  .hide-cards .chat-card {
    display: none !important;
  }
  /* Estiliza lista do menu brain */
  .brain-list li {
    padding: 10px 12px;
    border-radius: 18px;
    background: rgba(255, 255, 255, .05);
    border: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
  }
  .brain-list li:hover { background: rgba(255, 255, 255, .08); }

</style>
</head>
<body>

<!-- ======= Header ======= -->
<header>
  <button class="icon-btn" id="backBtn" aria-label="Voltar">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6" /></svg>
  </button>
  <div class="title">
    <!-- T√≠tulo e subt√≠tulo customizados para Smigdricks -->
    <h1>Smigdricks Dual</h1>
    <small>Seu Espelho Vivo</small>
  </div>
  <button class="icon-btn" id="brainBtn" aria-haspopup="true" aria-expanded="false" aria-label="Infodose Brain">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21a8 8 0 1 0-16 0" /><circle cx="12" cy="7" r="4" /></svg>
  </button>

  <!-- Brain menu -->
  <div class="brain-menu" id="brainMenu" style="display:none; position:absolute; top:calc(100% + 6px); right:16px; width:min(92vw, 340px); padding:12px; background:var(--surface-strong); border:1px solid var(--border); border-radius:var(--radius-lg); box-shadow:var(--shadow); z-index:150;">
    <h3 style="margin:4px 0 10px; font-size:16px; font-weight:800; letter-spacing:.05em;">Infodose Brain</h3>
    <ul class="brain-list" style="list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px;">
      <li onclick="exportBackup()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" /><polyline points="7 10 12 15 17 10" /><line x1="12" y1="15" x2="12" y2="3" /></svg><span>Exportar</span></li>
      <li onclick="promptKey()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 2l-2 2" /><path d="M7.5 13.5L2 19v3h3l5.5-5.5" /><circle cx="16" cy="8" r="5" /></svg><span>SK Key</span></li>
      <li onclick="toast('Testar TTS')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a4 4 0 0 1-4 4H7l-4 4V5a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z" /></svg><span>TTS</span></li>
      <li onclick="clearLogs()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3h18" /><path d="M3 8h18" /><path d="M3 13h18" /><path d="M3 18h18" /></svg><span>Logs</span></li>
    </ul>
  </div>
</header>

<!-- ======= Main ======= -->
<main>
  <section id="page-home" class="active">
    <div style="padding:20px; text-align:center;">
      <p>Bem-vindo ao Smigdricks Dual Infodose! Toque em <strong>Apps</strong> para explorar.</p>
    </div>
  </section>
  <section id="page-apps">
    <div class="apps-grid" id="appsGrid"></div>
  </section>
  <section id="page-stack">
    <div style="padding:20px; text-align:center;"><p>Nenhum app aberto no momento.</p></div>
  </section>
</main>

<!-- ======= Tabbar & Dock ======= -->
<footer class="tabbar">
  <div class="container" id="tabbarContainer">
    <!-- Tabs -->
    <div class="tabs">
      <div class="tab active" id="tab-home" onclick="navigate('home')">
        <svg><use href="#hub_home"></use></svg><span>Home</span>
      </div>
      <div class="tab" id="tab-apps" onclick="navigate('apps')">
        <svg><use href="#hub_apps"></use></svg><span>Apps</span>
      </div>
      <div class="tab" id="tab-stack" onclick="navigate('stack')">
        <svg><use href="#hub_stack"></use></svg><span>Stack</span>
      </div>
    </div>

    <!-- Dock -->
    <div class="dock" id="dock">
      <div class="dock-input">
        <input id="promptInput" placeholder="Digite aqui sua inten√ß√£o‚Ä¶" autocomplete="off" />
      </div>
      <button class="dock-btn" id="btn-ascii"   title="Arte ASCII"></button>
      <button class="dock-btn" id="btn-arteask" title="Arteask"></button>
      <button class="dock-btn" id="btn-voice"   title="Voz"></button>
      <button class="dock-btn" id="btn-send"    title="Enviar"></button>
      <button class="dock-btn" id="btn-cards"   title="Cards"></button>
    </div>

    <!-- Bot√£o frase toggle -->
    <button class="mantra" id="mantraBtn" onclick="toggleActions()">
      do seu jeito.&nbsp;<strong>Sempre</strong>&nbsp;√∫nico,&nbsp;<strong>sempre</strong>&nbsp;seu.
    </button>

    <!-- Painel de a√ß√µes -->
    <div class="actions" id="actionsPanel">
      <button class="pill" onclick="copyPrompt()">‚éò Copiar</button>
      <button class="pill" onclick="pastePrompt()">üìé Colar</button>
      <button class="pill" onclick="toggleIcons()">üôà Ocultar</button>
      <button class="pill" onclick="toggleActions()">‚úï Fechar</button>
    </div>

    <!-- Painel Arte ASCII -->
    <div class="ascii-panel" id="asciiPanel">
      <div class="ascii-row">
        <button class="pill" onclick="asciiGenerate('369')">Fractal 369</button>
        <button class="pill" onclick="asciiGenerate('portal')">Portal</button>
        <button class="pill" onclick="asciiGenerate('heptagrama')">Heptagrama</button>
      </div>
      <textarea class="ascii-box" id="asciiBox" placeholder="Sua Arte ASCII aparece aqui‚Ä¶"></textarea>
      <div class="ascii-row">
        <button class="pill" onclick="asciiToPrompt()">‚ûï Inserir no prompt</button>
        <button class="pill" onclick="asciiCopy()">‚éò Copiar ASCII</button>
        <button class="pill" onclick="toggleAscii()">‚úï Fechar ASCII</button>
      </div>
    </div>
  </div>
</footer>

<!-- ======= SVG Sprite Fallback ======= -->
<svg style="display:none" aria-hidden="true">
  <defs id="icon-defs">
    <symbol id="hub_home" viewBox="0 0 24 24">
      <path d="M3 12l9-9 9 9" stroke="currentColor" stroke-width="2" fill="none" />
      <path d="M9 21V9h6v12" stroke="currentColor" stroke-width="2" fill="none" />
    </symbol>
    <symbol id="hub_apps" viewBox="0 0 24 24">
      <rect x="3" y="3" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2" fill="none" />
      <rect x="14" y="3" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2" fill="none" />
      <rect x="14" y="14" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2" fill="none" />
      <rect x="3" y="14" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2" fill="none" />
    </symbol>
    <symbol id="hub_stack" viewBox="0 0 24 24">
      <path d="M12 2l9 4.5-9 4.5L3 6.5 12 2z" stroke="currentColor" stroke-width="2" fill="none" />
      <path d="M3 13l9 4.5 9-4.5" stroke="currentColor" stroke-width="2" fill="none" />
    </symbol>
  </defs>
</svg>

<!-- ======= Scripts ======= -->
<script>
/* ===== Helpers ===== */
const qs = (s) => document.querySelector(s);
const toast = (...m) => console.log('[Smigdricks]', ...m);

/* LocalStorage util para persist√™ncia */
const ls = {
  get: (k) => { try { return JSON.parse(localStorage.getItem(k)); } catch (e) { return null; } },
  set: (k, v) => { try { localStorage.setItem(k, JSON.stringify(v)); } catch (e) {} }
};
const UI_STATE = 'smig.dricks.ui';

/* ===== Navega√ß√£o ===== */
function navigate(target) {
  ['home', 'apps', 'stack'].forEach(pg => {
    qs('#page-' + pg).classList.toggle('active', pg === target);
    qs('#tab-' + pg).classList.toggle('active', pg === target);
  });
  if (target === 'apps' && !navigate._loaded) {
    loadApps();
    navigate._loaded = true;
  }
}

/* ===== Menu do Brain ===== */
const brainBtn = qs('#brainBtn');
const brainMenu = qs('#brainMenu');
brainBtn.addEventListener('click', (e) => {
  const opened = brainMenu.style.display === 'block';
  brainMenu.style.display = opened ? 'none' : 'block';
  e.stopPropagation();
});
document.addEventListener('click', (e) => {
  if (!brainMenu.contains(e.target) && e.target !== brainBtn) {
    brainMenu.style.display = 'none';
  }
});

function exportBackup() {
  const data = { when: Date.now(), storage: localStorage };
  const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'smig.backup.json';
  a.click();
  URL.revokeObjectURL(url);
  toast('Backup exportado');
}
function promptKey() {
  const key = prompt('Cole sua SK (salva localmente)');
  if (key) {
    localStorage.setItem('smig.keys.openrouter', key);
    toast('Chave armazenada');
  }
}
function clearLogs() { console.clear(); toast('Logs limpos'); }

/* ===== Carregamento de apps (apps.json) ===== */
async function loadApps() {
  const grid = qs('#appsGrid');
  grid.innerHTML = '';
  async function getJSON(p) {
    try {
      const r = await fetch(p);
      if (r.ok) return r.json();
    } catch (e) {}
    return null;
  }
  let data = await getJSON('apps.json') || await getJSON('apps/apps.json');
  if (data?.groups) {
    Object.values(data.groups).forEach(group => {
      group.forEach(app => {
        const div = document.createElement('div');
        div.className = 'app-icon';
        div.onclick = () => window.open(app.url, '_blank');
        const img = document.createElement('img');
        img.src = app.icon || (data.defaultIcons?.base || '/icons/icon-192.png');
        img.alt = '';
        const span = document.createElement('span');
        span.textContent = app.title;
        div.appendChild(img);
        div.appendChild(span);
        grid.appendChild(div);
      });
    });
  } else {
    // fallback simples
    const examples = ['Chat', 'Editor', 'Livros'];
    examples.forEach(t => {
      const el = document.createElement('div');
      el.className = 'app-icon';
      el.innerHTML = `<img src="/icons/icon-192.png" alt=""><span>${t}</span>`;
      el.onclick = () => toast('Abrindo ' + t);
      grid.appendChild(el);
    });
  }
}

/* ===== A√ß√µes da Dock ===== */
function onSend() {
  const v = qs('#promptInput').value.trim();
  if (!v) return toast('Prompt vazio');
  toast('Enviar:', v);
  qs('#promptInput').value = '';
}
function onVoz() { toast('Gravando voz...'); }
function onArteask() { toast('Abrir presets Arteask...'); }
function toggleCards() {
  document.body.classList.toggle('hide-cards');
  saveUI();
}

/* ===== Painel de a√ß√µes (frase) ===== */
function toggleActions() {
  qs('#actionsPanel').classList.toggle('open');
  saveUI();
}
function copyPrompt() {
  const v = qs('#promptInput').value || '';
  navigator.clipboard?.writeText(v).then(() => toast('Copiado'));
}
async function pastePrompt() {
  try {
    const txt = await navigator.clipboard.readText();
    if (txt) qs('#promptInput').value = txt;
  } catch (e) {
    toast('Permita acesso √† √°rea de transfer√™ncia');
  }
}
function toggleIcons() {
  qs('#dock').classList.toggle('hidden-icons');
  saveUI();
}

/* ===== Arte ASCII ===== */
function toggleAscii() {
  qs('#asciiPanel').classList.toggle('open');
  saveUI();
}
function onAscii() { toggleAscii(); }
function asciiToPrompt() {
  const box = qs('#asciiBox');
  const p = qs('#promptInput');
  p.value = (p.value ? (p.value + '\n') : '') + box.value;
  toast('ASCII inserido no prompt');
}
function asciiCopy() {
  const v = qs('#asciiBox').value || '';
  navigator.clipboard?.writeText(v);
  toast('ASCII copiado');
}
function asciiGenerate(kind) {
  let a = '';
  if (kind === '369') {
    a =
`    3   6   9
   ‚óê   ‚óê   ‚óê
  ‚óê‚óê‚óê ‚óê‚óê‚óê ‚óê‚óê‚óê
   ‚óê   ‚óê   ‚óê
    3   6   9`;
  } else if (kind === 'portal') {
    a =
`‚ïî‚ïê‚ïê‚ïê‚ïêüåå‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  ‚≠ï ‚≠ï ‚≠ï  ‚ïë
‚ïë   ‚óê ‚óê    ‚ïë
‚ïë    ‚óè     ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïêüåå‚ïê‚ïê‚ïê‚ïê‚ïù`;
  } else {
    a =
`   /\\
  /  \\
 / /\\ \\
 \\ \\/ /
  \\  /
   \\/   ‚òÖ7`;
  }
  qs('#asciiBox').value = a;
}

/* ===== Persist√™ncia de UI ===== */
function saveUI() {
  ls.set(UI_STATE, {
    actionsOpen: qs('#actionsPanel').classList.contains('open'),
    asciiOpen: qs('#asciiPanel').classList.contains('open'),
    iconsHidden: qs('#dock').classList.contains('hidden-icons'),
    cardsHidden: document.body.classList.contains('hide-cards')
  });
}
(function restoreUI() {
  const st = ls.get(UI_STATE) || {};
  if (st.actionsOpen) qs('#actionsPanel').classList.add('open');
  if (st.asciiOpen) qs('#asciiPanel').classList.add('open');
  if (st.iconsHidden) qs('#dock').classList.add('hidden-icons');
  if (st.cardsHidden) document.body.classList.add('hide-cards');
})();

/* ===== Carregamento de √≠cones nos bot√µes ===== */
async function setBtnIcon(btnId, name, inlineFallback) {
  const btn = qs(btnId);
  const paths = [
    `orders/${name}.svg`,
    `docs/icons/others/${name}.svg`,
    `/icons/others/${name}.svg`
  ];
  for (const p of paths) {
    try {
      const r = await fetch(p, { cache: 'no-store' });
      if (r.ok) {
        btn.innerHTML = await r.text();
        return;
      }
    } catch (e) {}
  }
  // fallback inline
  btn.innerHTML = inlineFallback;
}
const inline = {
  ascii:  '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="16" rx="2"/><path d="M7 8h10M7 12h6M7 16h8"/></svg>',
  arteask:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="8"/><path d="M12 8v5l3 3"/></svg>',
  voice:  '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="3" width="6" height="11" rx="3"/><path d="M5 10v1a7 7 0 0 0 14 0v-1"/><path d="M12 19v2"/></svg>',
  send:   '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 2L11 13"/><path d="M22 2l-7 20-4-9-9-4 20-7z"/></svg>',
  cards:  '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="6" rx="1"/><rect x="3" y="14" width="18" height="6" rx="1"/></svg>',
};
setBtnIcon('#btn-ascii',  'ascii',  inline.ascii);
setBtnIcon('#btn-arteask','arteask', inline.arteask);
setBtnIcon('#btn-voice',  'mic',   inline.voice);
setBtnIcon('#btn-send',   'send',  inline.send);
setBtnIcon('#btn-cards',  'cards', inline.cards);

/* ===== Liga bot√µes ===== */
qs('#btn-send').onclick   = onSend;
qs('#btn-voice').onclick  = onVoz;
qs('#btn-arteask').onclick= onArteask;
qs('#btn-cards').onclick  = toggleCards;
qs('#btn-ascii').onclick  = onAscii;

/* ===== Service Worker (opcional) ===== */
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('sw.js');
  });
}
</script>
</body>
</html>